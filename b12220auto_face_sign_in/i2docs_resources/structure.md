人脸识别关键问题：
找出所有人脸
在不同光线和方向下识别出同一人脸
找出每张脸与他人的区别
将人脸与已知人脸比较以确定其身份

1. 人脸检测
要想识别人脸，首先需要在图像或者视频帧中找到所有人脸的位置，并将人脸部分的图像切割出来。
可以使用方向梯度直方图(HOG)来检测人脸位置。先将图片灰度化，因为色彩对于找到人脸位置并无明显作用，接着计算图像中各像素的梯度。
通过将图像变换为HOG形式，我们就可以提取图像的特征，从而获取人脸位置。

2. 人脸对齐
一张图片中的人脸可能是倾斜的，或者仅仅是侧脸。为了方便给人脸编码，需要将人脸对齐成同一种标准的形状。
人脸对齐的第一步就是人脸是特征点估计。Dlib有专门的函数和模型，能够实现人脸68个特征点的定位。
找到特征点后，就可以通过图像的几何变换（仿射、旋转、缩放），使各个特征点对齐（将眼睛、嘴等部位移到相同位置）。

3. 人脸编码

训练一个神经网络，将输入的脸部图像生成为128维的预测值。
训练的大致过程为：将同一人的两张不同照片和另一人的照片一起喂入神经网络，不断迭代训练，使同一人的两张照片编码后的预测值接近，不同人的照片预测值拉远。也就是减小类内距离，增大类间距离。具体算法参考facenet[3]。


4. 识别身份
预先将所有人的连放入人脸库中，全部用上述的神经网络编码为128维并保存。识别时，将人脸预测为128维的向量后，与人脸库中的数据进行比对。

比对方法有很多种，可以直接找出阈值范围内欧氏距离最小的人脸，或者训练一个末端的SVM或者knn分类器，直接生成人的代号（身份）。
knn分类器构建方法可参考这个代码。


我们i0FaceDetectionFlask工程整体的使用python实现人脸识别的代码可以参考使用OpenCV，
Python和深度学习进行人脸识别，提供如下功能：
* 调用摄像头进行人脸识别
* 可以对未知的人脸进行训练命名
* 支持调用摄像头实时识别
* 适配移动端与pc端